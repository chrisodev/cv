import{r as C,c as p,h as V,at as X,f as Y,y as U,au as Z,g as K,av as q,s as T,k as J,Q,q as ee,n as te,x as ae,a as oe,v as le,p as ne,aw as se,a0 as re,ao as ue,a4 as f,a3 as n,a2 as x,N as B,ap as ie,a7 as P,S as M,ax as $,ay as j}from"./index.1af5b27d.js";import{Q as O,a as R}from"./QCard.dc1c31f1.js";import{u as ce,a as de,Q as A}from"./QInput.d0d8eb97.js";import{a as fe,u as me}from"./use-dark.376b6b5d.js";import{b as ve}from"./focus-manager.1549adf2.js";import{u as pe}from"./use-quasar.cea258fd.js";function ge(t,g){const e=C(null),m=p(()=>t.disable===!0?null:V("span",{ref:e,class:"no-outline",tabindex:-1}));function r(u){const i=g.value;u!==void 0&&u.type.indexOf("key")===0?i!==null&&document.activeElement!==i&&i.contains(document.activeElement)===!0&&i.focus():e.value!==null&&(u===void 0||i!==null&&i.contains(u.target)===!0)&&e.value.focus()}return{refocusTargetEl:m,refocusTarget:r}}var be={xs:30,sm:35,md:40,lg:50,xl:60};const he={...me,...Z,...ce,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},xe=["update:modelValue"];function ye(t,g){const{props:e,slots:m,emit:r,proxy:u}=K(),{$q:i}=u,b=fe(e,i),d=C(null),{refocusTargetEl:l,refocusTarget:E}=ge(e,d),S=X(e,be),_=p(()=>e.val!==void 0&&Array.isArray(e.modelValue)),a=p(()=>{const o=q(e.val);return _.value===!0?e.modelValue.findIndex(k=>q(k)===o):-1}),c=p(()=>_.value===!0?a.value>-1:q(e.modelValue)===q(e.trueValue)),y=p(()=>_.value===!0?a.value===-1:q(e.modelValue)===q(e.falseValue)),I=p(()=>c.value===!1&&y.value===!1),F=p(()=>e.disable===!0?-1:e.tabindex||0),N=p(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(b.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),s=p(()=>{const o=c.value===!0?"truthy":y.value===!0?"falsy":"indet",k=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?c.value===!0:y.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${o}${k}`}),v=p(()=>{const o={type:"checkbox"};return e.name!==void 0&&Object.assign(o,{".checked":c.value,"^checked":c.value===!0?"checked":void 0,name:e.name,value:_.value===!0?e.val:e.trueValue}),o}),h=de(v),z=p(()=>{const o={tabindex:F.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":I.value===!0?"mixed":c.value===!0?"true":"false"};return e.disable===!0&&(o["aria-disabled"]="true"),o});function w(o){o!==void 0&&(T(o),E(o)),e.disable!==!0&&r("update:modelValue",L(),o)}function L(){if(_.value===!0){if(c.value===!0){const o=e.modelValue.slice();return o.splice(a.value,1),o}return e.modelValue.concat([e.val])}if(c.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(y.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function G(o){(o.keyCode===13||o.keyCode===32)&&T(o)}function H(o){(o.keyCode===13||o.keyCode===32)&&w(o)}const W=g(c,I);return Object.assign(u,{toggle:w}),()=>{const o=W();e.disable!==!0&&h(o,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const k=[V("div",{class:s.value,style:S.value,"aria-hidden":"true"},o)];l.value!==null&&k.push(l.value);const D=e.label!==void 0?Y(m.default,[e.label]):U(m.default);return D!==void 0&&k.push(V("div",{class:`q-${t}__label q-anchor--skip`},D)),V("div",{ref:d,class:N.value,...z.value,onClick:w,onKeydown:G,onKeyup:H},k)}}var _e=J({name:"QToggle",props:{...he,icon:String,iconColor:String},emits:xe,setup(t){function g(e,m){const r=p(()=>(e.value===!0?t.checkedIcon:m.value===!0?t.indeterminateIcon:t.uncheckedIcon)||t.icon),u=p(()=>e.value===!0?t.iconColor:null);return()=>[V("div",{class:"q-toggle__track"}),V("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[V(Q,{name:r.value,color:u.value})]:void 0)]}return ye("toggle",g)}}),Ve=J({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(t,{slots:g,emit:e}){const m=K(),r=C(null);let u=0;const i=[];function b(a){const c=typeof a=="boolean"?a:t.noErrorFocus!==!0,y=++u,I=(s,v)=>{e("validation"+(s===!0?"Success":"Error"),v)},F=s=>{const v=s.validate();return typeof v.then=="function"?v.then(h=>({valid:h,comp:s}),h=>({valid:!1,comp:s,err:h})):Promise.resolve({valid:v,comp:s})};return(t.greedy===!0?Promise.all(i.map(F)).then(s=>s.filter(v=>v.valid!==!0)):i.reduce((s,v)=>s.then(()=>F(v).then(h=>{if(h.valid===!1)return Promise.reject(h)})),Promise.resolve()).catch(s=>[s])).then(s=>{if(s===void 0||s.length===0)return y===u&&I(!0),!0;if(y===u){const{comp:v,err:h}=s[0];if(h!==void 0&&console.error(h),I(!1,v),c===!0){const z=s.find(({comp:w})=>typeof w.focus=="function"&&le(w.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function d(){u++,i.forEach(a=>{typeof a.resetValidation=="function"&&a.resetValidation()})}function l(a){a!==void 0&&T(a);const c=u+1;b().then(y=>{c===u&&y===!0&&(t.onSubmit!==void 0?e("submit",a):a!==void 0&&a.target!==void 0&&typeof a.target.submit=="function"&&a.target.submit())})}function E(a){a!==void 0&&T(a),e("reset"),ne(()=>{d(),t.autofocus===!0&&t.noResetFocus!==!0&&S()})}function S(){ve(()=>{if(r.value===null)return;const a=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),c=>c.tabIndex>-1);a!=null&&a.focus({preventScroll:!0})})}ee(se,{bindComponent(a){i.push(a)},unbindComponent(a){const c=i.indexOf(a);c>-1&&i.splice(c,1)}});let _=!1;return te(()=>{_=!0}),ae(()=>{_===!0&&t.autofocus===!0&&S()}),oe(()=>{t.autofocus===!0&&S()}),Object.assign(m.proxy,{validate:b,resetValidation:d,submit:l,reset:E,focus:S,getValidationComponents:()=>i}),()=>V("form",{class:"q-form",ref:r,onSubmit:l,onReset:E},U(g.default))}});const ke={class:"row justify-center q-pa-md"},Ce=f("h3",{class:"text-center text-secondary q-mb-xs"},"Contact",-1),Se={class:"q-pa-md row justify-center"},we={class:"text-h6"},qe=f("a",{class:"text-white text-h6",style:{"text-decoration":"none"},href:"mailto:crbogaert@gmail.com"},"crbogaert@gmail.com",-1),Ie={class:"text-h6"},Ee=f("a",{class:"text-white text-h6",style:{"text-decoration":"none"},href:"tel:+33646402993"},"06.46.40.29.93",-1),Fe={class:"text-h6"},ze=f("div",{class:"text-h5 text-center text-grey"},"ou via ce formulaire :",-1),Be={class:"row justify-center"},Pe={class:"q-pa-lg col-md-6 col-xs-10"},Qe={class:"flex justify-center"},Ne={__name:"Contact",setup(t){pe();const g=C(""),e=C(""),m=C(""),r=C(!1),u=()=>{if(r.value!==!0)$.create({color:"red-5",textColor:"white",icon:"warning",message:"Vous devez accepter de communiquer les donn\xE9es saisies."});else{const b=new FormData;b.append("name",g.value),b.append("email",e.value),b.append("message",m.value),b.append("_captcha",!1);async function d(){j.show({message:"Envoi du message en cours, veuillez patienter..."}),(await fetch("https://formsubmit.co/fabf7c4e6529dae469ab8bb330c340eb",{method:"POST",body:b})).ok?(j.hide(),$.create({color:"green-4",textColor:"white",icon:"cloud_done",message:"Votre message a bien \xE9t\xE9 transmis"})):(j.hide(),$.create({color:"red-4",textColor:"white",icon:"cloud_done",message:"Votre message n'a pas pu \xEAtre transmis"}))}d()}},i=()=>{g.value=null,e.value=null,m.value=null,r.value=!1};return(b,d)=>(re(),ue(ie,null,[f("section",null,[f("div",ke,[n(B,{appear:"","enter-active-class":"animated fadeIn slow delay-1s"},{default:x(()=>[Ce]),_:1})])]),f("section",null,[n(B,{appear:"","enter-active-class":"animated bounceInDown slow delay-2s"},{default:x(()=>[f("div",Se,[n(O,{class:"col-xs-11 col-md-3 bg-primary flex flex-center text-white mycard"},{default:x(()=>[n(R,null,{default:x(()=>[f("div",we,[n(Q,{name:"email",size:"32px"}),P(" Email")]),qe]),_:1})]),_:1}),n(O,{class:"col-xs-11 col-md-3 bg-secondary flex flex-center text-white mycard"},{default:x(()=>[n(R,null,{default:x(()=>[f("div",Ie,[n(Q,{name:"phone_iphone",size:"32px"}),P(" T\xE9l\xE9phone ")]),Ee]),_:1})]),_:1}),n(O,{class:"col-xs-11 col-md-3 bg-primary flex flex-center text-white mycard"},{default:x(()=>[n(R,null,{default:x(()=>[f("div",Fe,[P(" Vous souhaitez me rencontrer ? "),n(Q,{name:"local_cafe",size:"24px"})]),P(" Je suis disponible \xE0 N\xEEmes et ses alentours ")]),_:1})]),_:1})])]),_:1})]),n(B,{appear:"","enter-active-class":"animated fadeIn slow delay-3s"},{default:x(()=>[ze]),_:1}),f("section",Be,[n(B,{appear:"","enter-active-class":"animated fadeIn slow delay-4s"},{default:x(()=>[f("div",Pe,[n(Ve,{onSubmit:u,onReset:i,class:"q-gutter-md"},{default:x(()=>[n(A,{modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=l=>g.value=l),label:"Votre nom *","lazy-rules":"",rules:[l=>l&&l.length>0||"Merci de remplir ce champ"]},null,8,["modelValue","rules"]),n(A,{type:"email",modelValue:e.value,"onUpdate:modelValue":d[1]||(d[1]=l=>e.value=l),label:"Votre mail *","lazy-rules":"",rules:[l=>l!==null&&l!==""||"Merci de remplir ce champ",l=>l!=="@"&&l!=="."||"Merci de mettre un mail valide"]},null,8,["modelValue","rules"]),n(A,{type:"textarea",label:"Votre message *",modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=l=>m.value=l),autogrow:"","lazy-rules":"",rules:[l=>l&&l.length>0||"Merci de remplir ce champ"]},null,8,["modelValue","rules"]),n(_e,{modelValue:r.value,"onUpdate:modelValue":d[3]||(d[3]=l=>r.value=l),label:"J'accepte de communiquer les donn\xE9es saisies \xE0 Christophe"},null,8,["modelValue"]),f("div",Qe,[n(M,{label:"Envoyer",type:"submit",color:"primary"}),n(M,{label:"Vider les champs",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])]),_:1})])]),_:1})])],64))}};export{Ne as default};
